{"version":3,"sources":["./node_modules/rxjs/_esm2015/internal/operators/pairwise.js","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/models/user.ts","./src/app/services/global.ts","./src/app/services/user.service.ts","./src/app/login/login.page.scss","./src/app/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_login_login_module_ts.js","sourcesContent":["import { Subscriber } from '../Subscriber';\nexport function pairwise() {\n    return (source) => source.lift(new PairwiseOperator());\n}\nclass PairwiseOperator {\n    call(subscriber, source) {\n        return source.subscribe(new PairwiseSubscriber(subscriber));\n    }\n}\nclass PairwiseSubscriber extends Subscriber {\n    constructor(destination) {\n        super(destination);\n        this.hasPrev = false;\n    }\n    _next(value) {\n        let pair;\n        if (this.hasPrev) {\n            pair = [this.prev, value];\n        }\n        else {\n            this.hasPrev = true;\n        }\n        this.prev = value;\n        if (pair) {\n            this.destination.next(pair);\n        }\n    }\n}\n//# sourceMappingURL=pairwise.js.map","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { LoginPageRoutingModule } from './login-routing.module';\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, RoutesRecognized, ActivatedRoute } from '@angular/router';\nimport { UserService } from './../services/user.service';\nimport { User } from './../models/user';\nimport { ConnectionStatus, NetworkService } from './../services/network.service';\nimport { debounceTime, filter, pairwise } from 'rxjs/operators';\nimport { ChangeDetectorRef } from '@angular/core';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n  providers: [UserService]\n})\nexport class LoginPage implements OnInit {\n\n  public user: User;\n  public error: [];\n  public conectado: Boolean;\n  private prevPage: string;\n\n  constructor(private _userService: UserService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private networkService: NetworkService,\n    private changeRef: ChangeDetectorRef) {\n    this.user = new User('', '');\n  }\n\n\n\n  ngOnInit() {\n    this.networkSubscriber();\n    // if(localStorage.getItem('token') !== null) {\n    //   this.router.navigate(['/home/pedir']);\n    //   /* alert(localStorage.getItem('token'));\n    //   this.route.params.subscribe(() => {\n    //   }); */\n    // }\n    \n  }\n\n  onSubmit() {\n    this.router.navigate(['/home/pedir']);\n    // this._userService.login(this.user).subscribe(\n    //   response => {\n    //     console.log(response);\n    //     if(response.errnro == 0 && response.msg == \"Success.\") {\n    //       localStorage.setItem('token', response.data.token);\n    //       this.router.navigate(['/home/pedir']);\n    //     }\n    //   },\n    //   error => {\n    //     this.error = error.error;\n    //   }\n    // );\n  }\n\n  networkSubscriber(): void {\n    this.networkService\n      .onNetworkChange()\n      .pipe(debounceTime(300))\n      .subscribe((connected: ConnectionStatus) => {\n        this.conectado = Boolean(Number(connected));\n        this.changeRef.detectChanges();\n      });\n  }\n\n  getPrevPage(): void {\n    this.router.events\n                .pipe(filter((event: any) => event instanceof RoutesRecognized), pairwise())\n                .subscribe((events: RoutesRecognized[]) => {\n                  this.prevPage = events[0].urlAfterRedirects;\n                  alert(this.prevPage);\n                });\n  }  \n\n\n}\n","export class User {\n    constructor(\n        public usuario: string,\n        public password: string,\n    ) {\n\n    }\n}","export var global = {\n    url: 'http://e0b820907da3.ngrok.io/v2'\n}","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { User } from './../models/user';\nimport { global } from './global';\n\n@Injectable()\nexport class UserService {\n\n    private url: string;\n\n    constructor(private _http: HttpClient) { \n        this.url = global.url;\n    }\n\n    login(user: User):Observable<any> {\n        \n        //return this._http.get(`http://core.tempo.local/v2/auth/${user.usuario}/${user.password}`);\n        return this._http.get(`${this.url}/auth/${user.usuario}/${user.password}`);\n\n    }\n\n}","export default \"ion-grid {\\n  height: 100% !important;\\n}\\n\\nion-row {\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  height: 100% !important;\\n}\\n\\n.desconectado {\\n  animation: disabled 4s infinite;\\n}\\n\\n@keyframes disabled {\\n  0% {\\n    background-color: red;\\n  }\\n  25% {\\n    background-color: white;\\n  }\\n  50% {\\n    background-color: red;\\n  }\\n  100% {\\n    background-color: white;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx3QkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0NBQUE7RUFDQSx1QkFBQTtBQUNGOztBQUVBO0VBQ0UsK0JBQUE7QUFDRjs7QUFFQTtFQUNFO0lBQU0scUJBQUE7RUFFTjtFQURBO0lBQU0sdUJBQUE7RUFJTjtFQUhBO0lBQU0scUJBQUE7RUFNTjtFQUxBO0lBQU0sdUJBQUE7RUFRTjtBQUNGIiwiZmlsZSI6ImxvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1ncmlkIHtcbiAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1yb3cge1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbi5kZXNjb25lY3RhZG8ge1xuICBhbmltYXRpb246IGRpc2FibGVkIDRzIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIGRpc2FibGVkIHtcbiAgMCUgICB7YmFja2dyb3VuZC1jb2xvcjogcmVkO31cbiAgMjUlICB7YmFja2dyb3VuZC1jb2xvcjogd2hpdGU7fVxuICA1MCUgIHtiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7fVxuICAxMDAlIHtiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTt9XG59Il19 */\";","export default \"<ion-backdrop *ngIf=\\\"conectado\\\"></ion-backdrop>\\n\\n<ion-header [translucent]=\\\"true\\\">\\n\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button>\\n        <ion-icon *ngIf=\\\"conectado\\\" class=\\\"desconectado\\\" slot=\\\"icon-only\\\" name=\\\"wifi-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <div class=\\\"ion-text-center\\\">\\n      <h3>Login</h3>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <form #loginForm=\\\"ngForm\\\">\\n        <ion-col size=\\\"8\\\" offset=\\\"2\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Usuario</ion-label>\\n            <ion-input type=\\\"usuario\\\" name=\\\"usuario\\\" id=\\\"usuario\\\" #usuario=\\\"ngModel\\\" [(ngModel)]=\\\"user.usuario\\\" required>\\n            </ion-input>\\n          </ion-item>\\n          <small *ngIf=\\\"!usuario.valid && usuario.touched\\\" class=\\\"invalid-feedback d-block\\\">El usuario no es válido.</small>\\n        </ion-col>\\n        <ion-col size=\\\"8\\\" offset=\\\"2\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Password</ion-label>\\n            <ion-input type=\\\"password\\\" name=\\\"password\\\" id=\\\"password\\\" #password=\\\"ngModel\\\" [(ngModel)]=\\\"user.password\\\"\\n              required></ion-input>\\n          </ion-item>\\n          <small *ngIf=\\\"!password.valid && password.touched\\\" class=\\\"invalid-feedback d-block\\\">La password no es\\n            válida.</small>\\n        </ion-col>\\n        <ion-col size=\\\"8\\\" offset=\\\"4\\\">\\n          <ion-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\">Login</ion-button>\\n          <!-- <ion-button color=\\\"primary\\\" [disabled]=\\\"conectado\\\" (click)=\\\"onSubmit()\\\">Login</ion-button> -->\\n        </ion-col>\\n        <ion-col>\\n          <ion-item>\\n            <ion-label color=\\\"danger\\\" *ngIf=\\\"error\\\">{{error.data}}</ion-label>\\n          </ion-item>\\n        </ion-col>\\n      </form>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}